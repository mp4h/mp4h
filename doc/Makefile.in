##
##  Makefile -- mp4h Documentation
##

@SET_MAKE@
SHELL   = /bin/sh
RM      = rm -f

SUBDIRS = en fr
SDP     =

# ------------------------------------------------
#   THE DEFAULT TARGETS
# ------------------------------------------------

default: all

#   Build only English documentation
all:
	@set -e; \
	set dummy $(MAKEFLAGS); amf=$$2; \
	for dir in en; do \
	     echo "===> $(SDP)$$dir ($@)"; \
	     (cd $$dir && $(MAKE) $@) \
	     || case "$$amf" in *=*) exit 1;; *k*) fail=yes;; *) exit 1;; esac; \
	     echo "<=== $(SDP)$$dir"; \
	done && test -z "$$fail"

clean-recursive distclean-recursive realclean-recursive:
	-@set dummy $(MAKEFLAGS); amf=$$2; \
	for dir in $(SUBDIRS); do \
	    target=`echo $@ | sed s/-recursive//`; \
	    echo "===> $(SDP)$$dir ($$target)"; \
	    (cd $$dir && $(MAKE) $$target) \
	    || case "$$amf" in *=*) exit 1;; *k*) fail=yes;; *) exit 1;; esac; \
	    echo "<=== $(SDP)$$dir"; \
	done && test -z "$$fail"

clean: clean-recursive

realclean: realclean-recursive

distclean: distclean-recursive
	$(RM) Makefile

##EOF##
