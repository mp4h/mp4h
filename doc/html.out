
;;;
;;;    Sectioning
;;;
<define-tag section><h2>%attributes</h2></define-tag>
<define-tag subsection><h3>%attributes</h3></define-tag>

;;;
;;;    Common names
;;;
<define-tag program><B>%attributes</B></define-tag>
<define-tag mp4h><program mp4h></define-tag>
<define-tag WML><program WML></define-tag>
<define-tag m4><program m4></define-tag>
<define-tag Meta-HTML><program Meta-HTML></define-tag>

<define-tag var><em>%attributes</em></define-tag>
<define-tag value><tt>%attributes</tt></define-tag>
<define-tag commande><tt>%attributes</tt></define-tag>
<define-tag left-angle>&lt;</define-tag>
<define-tag right-angle>&gt;</define-tag>
<define-tag true><tt>true</tt></define-tag>
<define-tag option><tt>-%attributes</tt></define-tag>
<define-tag file><tt>%attributes</tt></define-tag>

;;;
;;;    Alias for writing URLs
;;;
<define-tag URL whitespace=delete>
<preserve name>
<preserve src>
<set-var %attributes>
<a href="<get-var src>"><tt><get-var name></tt></a>
<restore src>
<restore name>
</define-tag>

;;;
;;;    Header of the HTML document
;;;
<define-tag header>
<html>
<head>
<meta name="Author"    content="Denis Barbier">
<meta name="Generator" content="mp4h <version>">
<meta name="Created"   content="29-Nov-1999">
<set-var fileinfo[]="<get-file-properties mp4h.mp4h>">;;;
<meta name="Modified"  content="<date <get-var fileinfo[3]>>">
<title><get-var title></title>
</head>
<body>

<h1><get-var title></h1>
</define-tag>

;;;
;;;    Footer of the HTML document
;;;
<define-tag footer>;;;
</body>
</html>
</define-tag>

;;;
;;;    Description of MP4H tags
;;;
<define-tag tag:description endtag=required whitespace=delete>
<preserve complex>
<preserve verbatim>
<set-var complex=*>
<set-var verbatim=*>
<set-var %attributes>
<set-var list-attributes[]="%body">
<subst-in-var list-attributes "^\n" "">
<table border=2>
<tr valign=top>
<td align=center><if <get-var complex> "" "/"></td>
<td align=center><if <get-var verbatim> "" "V"></td>
<td align=center>%0</td>
<td>
  <table>
    <foreach attr list-attributes>
      <tr><td><tt><get-var attr></tt></td></tr>
    </foreach>
  </table>
</td>
</tr>
</table>
<restore verbatim>
<restore complex>
</define-tag>

<define-tag attributes:description endtag=required>
<ul>
%body
</ul>
</define-tag>

<define-tag attributes:item>
<LI><attribute %0><br>
</define-tag>

;;;
;;;    Paragraphs
;;;
<define-tag para endtag=required><p>%body</p></define-tag>

;;;
;;;    Example of MP4H code
;;;
<define-tag example endtag=required attributes=verbatim>
<set-var-verbatim verb-body=%ubody>;;;
<subst-in-var verb-body "&" "&amp;">;;;
<subst-in-var verb-body "<" "&lt;">;;;
<subst-in-var verb-body ">" "&gt;">;;;
<set-var body=%body>;;;
<subst-in-var body "&" "&amp;">;;;
<subst-in-var body "<" "&lt;">;;;
<subst-in-var body ">" "&gt;">;;;
<subst-in-var body "^\\n+" "">;;;
<table border=2 cellpadding=0 cellspacing=0>
    <tr><th bgcolor="#ccccff">Source</th></tr>
    <tr><td bgcolor="#ccff99"><pre><get-var-once verb-body></pre></td></tr>
    <tr><th bgcolor="#ccccff">Output</th></tr>
    <tr><td bgcolor="#ff99cc"><pre><get-var-once body></pre></td></tr>
</table>
</define-tag>

;;;
;;;    Verbatim code
;;;
<define-tag code endtag=required attributes=verbatim whitespace=delete>
<set-var-verbatim verb-body=%ubody>;;;
<subst-in-var verb-body "&" "&amp;">;;;
<subst-in-var verb-body "<" "&lt;">;;;
<subst-in-var verb-body ">" "&gt;">;;;
<pre><get-var verb-body></pre>
</define-tag>

;;;
;;;    Attributes
;;;
<define-tag attribute><tt>%attributes</tt></define-tag>

;;;
;;;    HTML Comments
;;;
<define-tag html:comment endtag=required>
&lt;!--%body--&gt;
</define-tag>

